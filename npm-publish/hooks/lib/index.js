"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const n=require("vue"),g=(u,o,s=!0)=>{const l=n.ref(!1),r=n.ref([]),c=n.ref({size:10,page:0}),i=n.ref({}),f=n.computed(()=>({...c.value,...o.value})),v=async()=>{l.value=!0;try{const{data:t}=await u(f.value);r.value=[],t.content?r.value=t.content:r.value=t,i.value={pageSize:t.pageSize,page:t.pageNumber,total:t.totalElements,totalPages:t.totalPages},l.value=!1}catch{l.value=!1}};return n.onMounted(async()=>{s&&await v()}),{loading:l,tableList:r,getList:v,pageInfo:c,pagination:i}};function p(u){const o=n.ref({}),s=n.ref(!1),l=n.ref(null),r=n.ref(null),c=async e=>{s.value=!0;try{const a=await u.getEntityDetail(e);t(a)}catch(a){y(a)}},i=async(e,a)=>{s.value=!0;try{const d=await u.updateEntityDetail(e,a);t(d)}catch(d){y(d)}},f=async e=>{s.value=!0;try{const a=await u.saveNewEntity(e);t(a)}catch(a){y(a)}},v=async e=>{s.value=!0;try{const a=await u.deleteEntity(e);t(a)}catch(a){y(a)}},t=e=>{if(s.value=!1,e.code==="ok"){o.value=e.data,l.value="success",r.value=e.msg||"操作成功！";return}l.value="error",r.value=e.msg||"操作失败！"},y=e=>{s.value=!1,l.value="error",r.value=e.msg||"系统错误！"};return{entityDetail:o,loading:s,status:l,message:r,getEntityDetail:c,updateEntityDetail:i,saveNewEntity:f,deleteEntity:v}}const E={};exports.default=E;exports.useEntityHandler=p;exports.useTableList=g;
